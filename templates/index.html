{% extends 'base.html' %}
{% block title%}
üòé–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Éüòé
{% endblock %}



{% block body%}
<style>
  /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –∏ –∫–Ω–æ–ø–∫–∏ "—á–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ" */
  .read-more-container {
    overflow: hidden;
    transition: max-height 0.5s ease;
  }
  .read-more-text {
    max-height: 100px; /* –Ω–∞—á–∞–ª—å–Ω–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
  }
  .read-more-btn {
    background-color: #f8f9fa;
    border: none;
    color: #007bff;
    padding: 5px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    margin: 10px 0;
    cursor: pointer;
  }
  </style>

<div style="margin: 20px;">
  <div class="row">
    <div class="col-12 col-md-6 col-s-12  col-xl-2" style="border-right: 1px solid; border-radius: 10px; min-height: 200px;">
      <h5>–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏</h5>
      <br>
        <div class="row">
          <div>
            <h6 style="color: red;">–†–∞–∑–¥–µ–ª –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h6>
            <iframe src="/dashboard2/" frameborder="0" ></iframe>
          </div>
        </div>
        <hr>
    </div> 
    <div class="col-12 col-md-6 col-s-12  col-xl-7">
      <h3>–ù–æ–≤–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–∏</h3>
      <br>
      {% for item in df_news['id']%}
        <div class="row" style="border-bottom: 1px solid; border-radius: 15px; margin-top: 15px; ">
          <div >
            <p style="font-size: x-small;"> {{df_news[df_news['id'] == item]['data'].values[0] }}</p>
            <div class="text-center">
              <img src="/static/img/{{df_news[df_news['id'] == item]['foto'].values[0]}}" alt="" style="max-height: 500px;max-width: 100%; margin-bottom: 20px;">
            </div>
            <div class="read-more-container">
              <p class="read-more-text">
                {{df_news[df_news['id'] == item]['text'].values[0]|safe}}
              </p>
              <button class="read-more-btn" onclick="toggleReadMore(this)">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</button>
            </div>
            
          </div>
        </div>
      {% endfor %}
        <hr>
    </div>  

      <div class="col-12 col-md-12 col-s-12  col-xl-3" >
        <div class="text-center"><h5>–î–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è:</h5></div>
        
        <div style="border-radius: 20px; padding: 5px;  min-height: 300px; background-color: rgba(46, 46, 255, 0.326); max-width: 400px;;">
        {% for item in df_dr['–§–ò–û'].unique() %}
        {% if today ==  df_dr[df_dr['–§–ò–û'] == item]['–î–∞—Ç–∞–†–æ–∂–¥–µ–Ω–∏—è']. values[0] %}
        <a href="{{ url_for('employee', id = df_dr[df_dr['–§–ò–û'] == item]['ID']) }}" style="color: rgb(255, 0, 0); font-size: 30px;">
          <div class="row">
              <div class="col-6"><p style="font-size: 17px;">{{ item }}üéÜüî•</p></div>
              <div class="col-4"><p style="font-size: 17px;">{{df_dr[df_dr['–§–ò–û'] == item]['–î–†']. values[0]}}</p></div>
              <!-- <div class="col-2"><img src="/static/img/photo_employee/{{df_dr[df_dr['–§–ò–û'] == item]['–§–æ—Ç–æ']. values [0]}}" alt="" style="border-radius: 50%; height: 40px; width: 40px;"></div> -->
          </div>
         </a>
         {% else %}
         <a href="{{ url_for('employee', id = df_dr[df_dr['–§–ò–û'] == item]['ID']) }}" style="color: rgb(31, 11, 146);">
          <div class="row">
              <div class="col-6"><p style="font-size: 17px;">{{ item }}</p></div>
              <div class="col-4"><p style="font-size: 17px;">{{df_dr[df_dr['–§–ò–û'] == item]['–î–†']. values[0]}}</p></div>
              <div class="col-2"><img src="/static/img/photo_employee/{{df_dr[df_dr['–§–ò–û'] == item]['–§–æ—Ç–æ']. values [0]}}" alt="" style="border-radius: 50%; height: 35px; width: 35px;"></div>
          </div>
         </a>
         {% endif %}
      {% endfor %}
        </div>
      </div>
  </div>
</div>
<script>
  document.getElementById('mainpage').style.borderBottom = '2px solid'
  document.getElementById('mainpage').style.borderColor = 'violet'
</script>
<script>
  function toggleReadMore(btn) {
    var container = btn.parentNode;
    var text = container.querySelector('.read-more-text');
  
    if (text.style.maxHeight) {
      text.style.maxHeight = null;
      btn.textContent = "–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ";
    } else {
      text.style.maxHeight = text.scrollHeight + "px";
      btn.textContent = "–°–∫—Ä—ã—Ç—å";
    }
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –±–ª–æ–∫ —Å —Ç–µ–∫—Å—Ç–æ–º –∏ —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "—á–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ", –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –∫–æ—Ä–æ—Ç–∫–∏–π
  document.querySelectorAll('.read-more-text').forEach(function(text) {
    if (text.scrollHeight <= 100) { // –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ 100px ‚Äî —ç—Ç–æ –≤—ã—Å–æ—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç–∏—è
      text.nextSibling.style.display = 'none';
    }
  });
  </script>
{% endblock %}
